# Домашнее задание к уроку 6. #
1. В Yandex-Cloud создала новую виртуальную машину и установила PostgreSQL.
![Шаг3](/3_0_CreateVM.jpg)  
1. Проверила, что кластер запущен.  
![Шаг3](/3_2_Cluster_Started.JPG)  
1. Создала произвольную таблицу с произвольным содержимым  
![Шаг3](/3_4_Create_Table.JPG)  
1. Остановила postgres  
![Шаг3](/3_5_Cluster_Stoped.JPG)  
1. Создала новый диск к ВМ размером 10GB  
![Шаг3](/3_6_Create_Disk.JPG)  
1. Проинициализировала диск  
![Шаг3](/3_7_InitializeDisk.JPG)  
1. Перезагрузила. Диск остался примонтированным   
![Шаг3](/3_8_Reboot.JPG)  
1. Сделала пользователя postgres владельцем /mnt/data  
![Шаг3](/3_9_Chown.JPG)  
1. Перенесла содержимое /var/lib/postgres/15 в /mnt/data  
![Шаг3](/3_10_Remove.JPG)  
1. Запуск кластера  
![Шаг3](/3_11_StartCluster.JPG)  
**Запуск кластера не прошел, т.к. файлы с данными были перемещены в другое место**  
1. Конфигурационный файл, раположенный в /etc/postgresql/15/main  
![Шаг3](/3_12_Postgresql.conf.JPG)  
**Меняла параметр data_directory, указывала новый путь к данным postgres**  
1. Запуск кластера с измененным путем к данным.  
![Шаг3](/3_13_Cluster_Started_2.JPG)  
**Запустить кластер получилось, т.к. теперь в конфигурационном файле новый путь к данным**  
1. Посмотрела содержимое ранее созданной таблицы. Данные видны.  
![Шаг3](/3_14_Select.JPG)  

## Задание со "звездочкой" ##
1. Создала в Yandex-Cloud еще одну виртуальную машину   
![Шаг3](/3_20_CreateVM.jpg)     
1. Поставила PostgreSQL  
![Шаг3](/3_17_New_VM_Started.JPG)     
1. Удалила файлы с данными из /var/lib/postgres   
![Шаг3](/3_18_Main_Deleted.JPG)     
1. Отсоединила внешний диск от первой машины (dz3) и присоединила ко второй (dz3-2)   
![Шаг3](/3_19_InsertDisk.JPG)      
1. Перемонтировала внешний диск   
![Шаг3](/3_20_Mount_Disk.JPG)   
1. Отредактировала файл /etc/postgresql/15/main/postgresql.conf c указанием пути на монтированный внешний диск   
![Шаг3](/3_21_Edit_conf.JPG)   
1. Запустила кластер на второй машине   
![Шаг3](/3_22_Cluster_Started_3.JPG)   
1. Проверила наличие созданной таблицы test   
![Шаг3](/3_23_Show_test_table.JPG)   
**Кластер на второй машине работает с данными внешнего диска от первой машины, т.к. видна таблица созданная на этапе 3 данного ДЗ.**  
